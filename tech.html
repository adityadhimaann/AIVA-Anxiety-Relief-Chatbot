<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIVA - Mental Health AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <style>
    
    body {
      background-color: #fffbf0;
    }
    .card {
      background-color: white;
      border-radius: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      padding: 20px;
      margin-bottom: 20px;
    }
    .bubble {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 20px;
      margin-right: 8px;
      margin-bottom: 8px;
    }
    .bubble-green {
      background-color: #b3f0c5;
    }
    .bubble-blue {
      background-color: #c5d5f0;
    }
    .bubble-pink {
      background-color: #f0c5c5;
    }
    .bubble-purple {
      background-color: #e5c5f0;
    }
    .bubble-yellow {
      background-color: #f0eac5;
    }
    .feature-card {
      background-color: white;
      border-radius: 20px;
      padding: 16px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
    }
    .feature-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 16px;
    }
    .feature-blue {
      background-color: #c5eef0;
    }
    .feature-yellow {
      background-color: #f0eac5;
    }
    .feature-purple {
      background-color: #e5c5f0;
    }
    .feature-green {
      background-color: #b3f0c5;
    }
    .exercise-card {
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      height: 150px;
      color: white;
      font-weight: bold;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 16px;
    }
    .bg-yellow {
      background-color: #ffeac5;
    }
    .bg-pink {
      background-color: #ffcce5;
    }
    .anxiety-slider {
      width: 100%;
      height: 8px;
      background-color: #e0e0e0;
      border-radius: 4px;
      margin: 10px 0;
    }
    .anxiety-level {
      width: 60%;
      height: 8px;
      background-color: #000;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  
  <div class="container mx-auto px-4 py-8">
    <!-- Navigation -->
    <nav class="flex justify-between bg-red-200 p-4 rounded-full items-center mb-8">
      <div class="flex items-center">
        <div class="mr-2">
          <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0iYmxhY2siPjxjaXJjbGUgY3g9IjI1IiBjeT0iMjUiIHI9IjIzIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+PGNpcmNsZSBjeD0iMTgiIGN5PSIyMCIgcj0iNSIvPjxjaXJjbGUgY3g9IjMyIiBjeT0iMjAiIHI9IjUiLz48cGF0aCBkPSJNIDE3IDMzIFEgMjUgNDAgMzMgMzMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPjxlbGxpcHNlIGN4PSIyNSIgY3k9IjEwIiByeD0iMTAiIHJ5PSI3IiBmaWxsPSJibGFjayIvPjwvc3ZnPg=="
              alt="Panda Logo" class="w-10 h-10">
      </div>
        <span class="text-2xl font-bold">AIVA - AI Virtual Assistant</span>
      </div>
      <div class="flex items-center">
        <a href="tech.html" class="mx-4 hover:border-b-2 border-gray-400 text-gray-800">Tech</a>
        <a href="about.html" class="mx-4 text-gray-800 hover:border-b-2 border-gray-400">About</a>
        <a href="home.html" class="mx-4 text-gray-800 hover:border-b-2 border-gray-400">Blogs & Home</a>
        <a href="index1.html" class="mx-4 text-gray-800 hover:border-b-2 border-gray-400">Chat with AIVA</a>
        
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="flex flex-wrap -mx-4 mb-16">
      <div class="w-full md:w-1/2 px-4 mb-8 md:mb-0">
        <h1 class="text-5xl font-bold mb-6">AIVA Mental Health AI</h1>
        <p class="text-lg mb-6">
          AIVA's technology is taking a unique and novel approach that enables fine grained 
          and quantifiable mental health monitoring and assessment to improve the user's mental 
          health and quality of life.
        </p>
        <p class="text-lg">
          To monitor mental health, we combine various sources of data to better understand 
          the context in which a user is situated and potentially influences the user's mental health.
        </p>
      </div>
      <div class="w-full md:w-1/2 px-4 bg-pink rounded-3xl">
        <div class="p-6 bg-white rounded-xl shadow-lg max-w-sm mx-auto my-8">
          <h3 class="font-semibold mb-2">Your Results</h3>
          <p class="text-gray-600 text-sm mb-4">You can edit them</p>
          
          <div class="mb-4">
            <div class="flex justify-between mb-1">
              <span class="font-semibold">Your mood</span>
              <span>‚úèÔ∏è</span>
            </div>
            <div>
              <span class="bubble bubble-green">Amazed</span>
              <span class="bubble bubble-blue">Bored</span>
              <span class="bubble bubble-pink">Fearing</span>
            </div>
            <div class="mt-2">
              <p class="mb-1">Why are you feeling so?</p>
              <span class="bubble bubble-purple">üè¢ Work</span>
              <span class="bubble bubble-blue">üçΩÔ∏è Eating</span>
            </div>
          </div>
          
          <div class="mb-4">
            <div class="flex justify-between mb-1">
              <span class="font-semibold">Your level of anxiety</span>
              <span>‚úèÔ∏è</span>
            </div>
            <div class="flex items-center">
              <span>üêº</span>
              <div class="anxiety-slider mx-2">
                <div class="anxiety-level"></div>
              </div>
              <span>üêº</span>
            </div>
            <div class="flex justify-between text-sm text-gray-500">
              <span>not at all</span>
              <span>most</span>
            </div>
          </div>
          
          <div>
            <p class="font-semibold mb-1">Symptoms</p>
            <span class="bubble bubble-purple">Trouble relaxing</span>
            <span class="bubble bubble-blue">Irritable</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <h2 class="text-4xl font-bold text-center mb-12">The novelty of our approach lies in:</h2>
    <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 shadow-lg">
      <div class="container ml-6 mx-auto">
          <h1 class="text-3xl font-bold">MindWell</h1>
          <p class="text-xl mt-2">Smart Mental Health Assessment System</p>
      </div>
  </header>

  <main class="container mx-auto p-6">
      <!-- Welcome Screen -->
      <div id="welcome-screen" class="bg-white rounded-lg shadow-lg p-8 mb-8">
          <h2 class="text-2xl font-semibold text-gray-800 mb-4">Welcome to Your Mental Health Assessment</h2>
          <p class="text-gray-600 mb-6">This assessment will help you understand your current mental state and provide personalized suggestions to improve your wellbeing. Your data remains private and is not stored.</p>
          <button id="start-assessment" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300">Start Assessment</button>
      </div>

      <!-- Assessment Form -->
      <div id="assessment-form" class="bg-white rounded-lg shadow-lg p-8 mb-8 hidden">
          <div class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-800 mb-6">Mental Health Assessment</h2>
              <div class="progress-bar bg-gray-200 rounded-full h-3 mb-6">
                  <div id="progress" class="bg-blue-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
              </div>
              <p id="question-number" class="text-sm text-gray-500 mb-2">Question 1 of 10</p>
              <h3 id="question-text" class="text-xl text-gray-700 mb-4">How would you rate your mood today?</h3>
              
              <div id="rating-scale" class="flex justify-between mb-8">
                  <div class="text-center">
                      <button class="rating-btn w-12 h-12 rounded-full bg-red-500 hover:bg-red-600 transition mb-2" data-value="1"></button>
                      <p class="text-sm">Very Poor</p>
                  </div>
                  <div class="text-center">
                      <button class="rating-btn w-12 h-12 rounded-full bg-orange-400 hover:bg-orange-500 transition mb-2" data-value="2"></button>
                      <p class="text-sm">Poor</p>
                  </div>
                  <div class="text-center">
                      <button class="rating-btn w-12 h-12 rounded-full bg-yellow-300 hover:bg-yellow-400 transition mb-2" data-value="3"></button>
                      <p class="text-sm">Neutral</p>
                  </div>
                  <div class="text-center">
                      <button class="rating-btn w-12 h-12 rounded-full bg-green-400 hover:bg-green-500 transition mb-2" data-value="4"></button>
                      <p class="text-sm">Good</p>
                  </div>
                  <div class="text-center">
                      <button class="rating-btn w-12 h-12 rounded-full bg-green-500 hover:bg-green-600 transition mb-2" data-value="5"></button>
                      <p class="text-sm">Very Good</p>
                  </div>
              </div>
              
              <div id="text-input" class="mb-6 hidden">
                  <textarea id="user-text-input" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4" placeholder="Please elaborate on your feelings..."></textarea>
              </div>
              
              <div id="multi-choice" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 hidden">
                  <!-- Options will be inserted here by JavaScript -->
              </div>
          </div>
          
          <div class="flex justify-between">
              <button id="prev-question" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition disabled:opacity-50" disabled>Previous</button>
              <button id="next-question" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition">Next</button>
          </div>
      </div>

      <!-- Results Screen -->
      <div id="results-screen" class="bg-white rounded-lg shadow-lg p-8 hidden">
          <h2 class="text-2xl font-semibold text-gray-800 mb-6">Your Mental Health Assessment Results</h2>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <div>
                  <div class="bg-gray-50 rounded-lg p-6 mb-6">
                      <h3 class="text-xl font-semibold mb-4">Emotional Well-being Score</h3>
                      <div class="flex items-center justify-center mb-4">
                          <div id="score-gauge" class="relative w-48 h-48">
                              <canvas id="scoreChart"></canvas>
                              <div class="absolute inset-0 flex items-center justify-center">
                                  <span id="final-score" class="text-4xl font-bold"></span>
                              </div>
                          </div>
                      </div>
                      <p id="score-interpretation" class="text-center text-gray-700"></p>
                  </div>
                  
                  <div class="bg-gray-50 rounded-lg p-6">
                      <h3 class="text-xl font-semibold mb-4">Key Factors</h3>
                      <div id="factors-container">
                          <!-- Factors will be inserted here by JavaScript -->
                      </div>
                  </div>
              </div>
              
              <div>
                  <div class="bg-gray-50 rounded-lg p-6 mb-6">
                      <h3 class="text-xl font-semibold mb-4">Personalized Recommendations</h3>
                      <div id="recommendations-container" class="space-y-4">
                          <!-- Recommendations will be inserted here by JavaScript -->
                      </div>
                  </div>
                  
                  <div class="bg-gray-50 rounded-lg p-6">
                      <h3 class="text-xl font-semibold mb-4">Mental Health Profile</h3>
                      <canvas id="radarChart" class="mb-4"></canvas>
                      <p class="text-sm text-gray-600">This radar chart shows your mental health across multiple dimensions. Higher scores indicate better functioning in those areas.</p>
                  </div>
              </div>
          </div>
          
          <div class="mt-8 text-center">
              <button id="restart-assessment" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300">Restart Assessment</button>
              <button id="download-report" class="ml-4 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300">Download Report</button>
          </div>
      </div>
  </main>

    
    
    <!-- Data Sources -->
    <div class="mb-16">
      <h2 class="text-4xl font-bold mb-8">Data Sources</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="feature-card">
          <div class="feature-icon feature-blue">ü§∏</div>
          <span>Exercises</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-pink">üåπ</div>
          <span>Menstrual cycle</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-yellow">üßò</div>
          <span>Meditations / Mindfulness minutes</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-blue">üìç</div>
          <span>Location data, if the user permits us to use it.</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-purple">‚ù§Ô∏è</div>
          <span>Heart Rate measurements</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-blue">‚òî</div>
          <span>Weather data such as sunlight hours and cloud coverage if the user permits us to use location</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-blue">üëÄ</div>
          <span>Post-processed features such as voice pitch, jitter, speech rate, and in the visual domain, facial action units like the movement of eyebrows, eye gaze and eye blink rate</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-green">‚åõ</div>
          <span>We extract features from timestamps of when people type.</span>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon feature-yellow">üò£</div>
          <span>Panic attack time, location, duration, intensity and symptoms</span>
        </div>
      </div>
    </div>
    
    <!-- Research Section -->
    <div class="mb-16">
      <h2 class="text-4xl font-bold text-center mb-8">Research</h2>
      
      <div class="space-y-4">
        <p>[1] J. Palotti, G. Narula, L. Raheem, H. Bay, 'Analysis of Emotion Annotation Strength Improves Generalization in Speech Emotion Recognition Models'. Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition CVPR2023W</p>
        
        <p>[2] D. A. Kalmbach, J. R. Anderson, and C. L. Drake, 'The impact of stress on sleep: Pathogenic sleep reactivity as a vulnerability toinsomnia and circadian disorders', J. Sleep Res., vol. 27, no. 6, p. e12710, Dec. 2018, doi: 10.1111/jsr.12710.</p>
        
        <p>[3] C. N. Kaufmann, R. Susukida, and C. A. Depp, 'Sleep apnea, psychopathology, and mental health care', Sleep Health, vol. 3, no. 4, pp. 244‚Äì249, Aug. 2017, doi: 10.1016/j.sleh.2017.04.003.</p>
        
        <p>[4] J. C. Mundt, A. P. Vogel, D. E. Feltner, and W. R. Lenderking, 'Vocal acoustic biomarkers of depression severity and treatment response', Biol. Psychiatry, vol. 72, no. 7, pp. 580-587, Oct. 2012, doi: 10.1016/j.biopsych. 2012.03.015.</p>
        
        <p>[5] L. Albuquerque, A. R. S. Valente, A. Teixeira, D. Figueiredo, P. Sa-Couto, and C. Oliveira, 'Association between acoustic speech features and non-severe levels of anxiety and depression symptoms across lifespan', PloS One, vol. 16, no. 4, p. e0248842, 2021, doi:10.1371/journal.pone.0248842.</p>
        
        <p>[6] C. Solomon, M. F. Valstar, R. K. Morriss, and J. Crowe, 'Objective Methods for Reliable Detection of Concealed Depression', Front. ICT, vol. 2, 2015, Accessed: May 04, 2022. [Online]. Available: https://www.frontiersin.orgarticle/10.3389/fict.2015.00005</p>
        
        <p>[7] 'Crema-D'. https://paperswithcode.com/dataset/crema-d</p>
        
        <p>[8] S. R. Livingstone and F. A. Russo, 'The Ryerson Audio-Visual Database of Emotional Speech and Song (RAVDESS): A dynamic, multimodal set of facial and vocal expressions in North American English', PLOS ONE, vol. 13, no. 5, p. e0196391, May 2018, doi: 10.1371/journal.pone.0196391.</p>
      </div>
    </div>
  </div>

  <script>
    // Questions data structure
      const questions = [
          {
              id: 1,
              text: "How would you rate your mood today?",
              type: "rating",
              factor: "mood"
          },
          {
              id: 2,
              text: "Over the past two weeks, how often have you felt little interest or pleasure in doing things?",
              type: "choice",
              options: ["Not at all", "Several days", "More than half the days", "Nearly every day"],
              factor: "anhedonia"
          },
          {
              id: 3,
              text: "Over the past two weeks, how often have you felt down, depressed, or hopeless?",
              type: "choice",
              options: ["Not at all", "Several days", "More than half the days", "Nearly every day"],
              factor: "depression"
          },
          {
              id: 4,
              text: "How would you rate your anxiety levels over the past week?",
              type: "rating",
              factor: "anxiety"
          },
          {
              id: 5,
              text: "How well have you been sleeping recently?",
              type: "rating",
              factor: "sleep"
          },
          {
              id: 6, 
              text: "How would you describe your energy levels lately?",
              type: "rating",
              factor: "energy"
          },
          {
              id: 7,
              text: "How well are you able to concentrate on tasks?",
              type: "rating",
              factor: "concentration"
          },
          {
              id: 8,
              text: "Have you experienced any panic attacks or moments of intense fear recently?",
              type: "choice",
              options: ["No", "Yes, but rarely", "Yes, occasionally", "Yes, frequently"],
              factor: "panic"
          },
          {
              id: 9,
              text: "How would you rate your social connections and support system?",
              type: "rating",
              factor: "social"
          },
          {
              id: 10, 
              text: "Please describe any specific concerns you have about your mental health right now:",
              type: "text",
              factor: "concerns"
          }
      ];

      // Mental health recommendations based on scores
      const recommendations = {
          mood: [
              { threshold: 2, text: "Consider speaking with a mental health professional about your low mood" },
              { threshold: 3, text: "Practice daily mood tracking and identify triggers that affect your emotions" },
              { threshold: 4, text: "Continue with activities that lift your mood and practice gratitude journaling" }
          ],
          anxiety: [
              { threshold: 2, text: "Try deep breathing exercises and progressive muscle relaxation to reduce anxiety" },
              { threshold: 3, text: "Consider mindfulness meditation to help manage anxious thoughts" },
              { threshold: 4, text: "Maintain your anxiety management techniques and consider sharing strategies with others" }
          ],
          sleep: [
              { threshold: 2, text: "Establish a consistent sleep schedule and bedtime routine to improve sleep quality" },
              { threshold: 3, text: "Limit screen time before bed and try relaxation techniques to improve sleep" },
              { threshold: 4, text: "Continue your healthy sleep habits and consider optimizing your sleep environment" }
          ],
          energy: [
              { threshold: 2, text: "Consider consulting with your doctor about your energy levels" },
              { threshold: 3, text: "Incorporate regular physical activity and balanced nutrition to boost energy" },
              { threshold: 4, text: "Maintain your energy levels with regular exercise and proper rest periods" }
          ],
          concentration: [
              { threshold: 2, text: "Try breaking tasks into smaller chunks and taking regular breaks" },
              { threshold: 3, text: "Practice mindfulness techniques to improve focus and attention" },
              { threshold: 4, text: "Continue with productivity strategies that work well for you" }
          ],
          social: [
              { threshold: 2, text: "Consider reaching out to friends, family, or support groups to strengthen connections" },
              { threshold: 3, text: "Schedule regular social activities and practice active listening skills" },
              { threshold: 4, text: "Continue nurturing your social connections and consider mentoring others" }
          ],
          general: [
              { text: "Practice mindfulness meditation for 10 minutes daily" },
              { text: "Keep a gratitude journal to focus on positive aspects of life" },
              { text: "Ensure you're getting regular physical exercise, even if it's just walking" },
              { text: "Maintain a consistent sleep schedule" },
              { text: "Limit consumption of news and social media if it causes distress" }
          ]
      };

      // Factor descriptions for the results page
      const factorDescriptions = {
          mood: "Your overall emotional state and feelings",
          anxiety: "Your level of worry, nervousness, or unease",
          sleep: "Quality and consistency of your sleep patterns",
          energy: "Your physical and mental energy levels",
          concentration: "Your ability to focus and maintain attention",
          social: "Quality of your social connections and support",
          depression: "Persistent feelings of sadness or loss of interest",
          anhedonia: "Reduced ability to feel pleasure in activities",
          panic: "Episodes of intense fear with physical symptoms"
      };

      // Variables to store user responses
      let currentQuestion = 1;
      let userResponses = {};
      let factorScores = {};

      // DOM elements
      const welcomeScreen = document.getElementById('welcome-screen');
      const assessmentForm = document.getElementById('assessment-form');
      const resultsScreen = document.getElementById('results-screen');
      const progressBar = document.getElementById('progress');
      const questionNumber = document.getElementById('question-number');
      const questionText = document.getElementById('question-text');
      const ratingScale = document.getElementById('rating-scale');
      const textInput = document.getElementById('text-input');
      const multiChoice = document.getElementById('multi-choice');
      const prevButton = document.getElementById('prev-question');
      const nextButton = document.getElementById('next-question');

      // Initialize event listeners
      document.getElementById('start-assessment').addEventListener('click', startAssessment);
      document.getElementById('restart-assessment').addEventListener('click', restartAssessment);
      document.getElementById('download-report').addEventListener('click', downloadReport);
      prevButton.addEventListener('click', goToPrevQuestion);
      nextButton.addEventListener('click', goToNextQuestion);

      // Event delegation for rating buttons
      ratingScale.addEventListener('click', (e) => {
          if (e.target.classList.contains('rating-btn')) {
              const value = parseInt(e.target.dataset.value);
              selectRating(value);
          }
      });

      // Start the assessment
      function startAssessment() {
          welcomeScreen.classList.add('hidden');
          assessmentForm.classList.remove('hidden');
          loadQuestion(currentQuestion);
      }

      // Load a specific question
      function loadQuestion(questionId) {
          const question = questions.find(q => q.id === questionId);
          
          // Update progress
          const progress = ((questionId - 1) / (questions.length - 1)) * 100;
          progressBar.style.width = `${progress}%`;
          questionNumber.textContent = `Question ${questionId} of ${questions.length}`;
          questionText.textContent = question.text;
          
          // Clear previous inputs
          clearInputs();
          
          // Set up the appropriate input type
          if (question.type === 'rating') {
              ratingScale.classList.remove('hidden');
              textInput.classList.add('hidden');
              multiChoice.classList.add('hidden');
              
              // Highlight selected rating if exists
              if (userResponses[questionId]) {
                  const selectedRating = userResponses[questionId];
                  const buttons = ratingScale.querySelectorAll('.rating-btn');
                  buttons.forEach((btn, index) => {
                      if (parseInt(btn.dataset.value) === selectedRating) {
                          btn.classList.add('ring-4', 'ring-blue-300');
                      }
                  });
              }
          } else if (question.type === 'text') {
              ratingScale.classList.add('hidden');
              textInput.classList.remove('hidden');
              multiChoice.classList.add('hidden');
              
              // Set text value if exists
              if (userResponses[questionId]) {
                  document.getElementById('user-text-input').value = userResponses[questionId];
              }
          } else if (question.type === 'choice') {
              ratingScale.classList.add('hidden');
              textInput.classList.add('hidden');
              multiChoice.classList.remove('hidden');
              
              // Generate options
              multiChoice.innerHTML = '';
              question.options.forEach((option, index) => {
                  const btn = document.createElement('button');
                  btn.className = 'p-4 border border-gray-300 rounded-lg hover:bg-blue-50 text-left transition';
                  btn.textContent = option;
                  btn.dataset.value = index;
                  
                  // Highlight selected option if exists
                  if (userResponses[questionId] === index) {
                      btn.classList.add('bg-blue-100', 'border-blue-500');
                  }
                  
                  btn.addEventListener('click', () => selectOption(index));
                  multiChoice.appendChild(btn);
              });
          }
          
          // Update navigation buttons
          prevButton.disabled = questionId === 1;
          nextButton.textContent = questionId === questions.length ? 'Submit' : 'Next';
      }

      // Clear all input selections
      function clearInputs() {
          // Clear rating selections
          const ratingButtons = ratingScale.querySelectorAll('.rating-btn');
          ratingButtons.forEach(btn => {
              btn.classList.remove('ring-4', 'ring-blue-300');
          });
          
          // Clear text input
          document.getElementById('user-text-input').value = '';
          
          // Clear multi-choice selections
          multiChoice.innerHTML = '';
      }

      // Select a rating
      function selectRating(value) {
          // Clear previous selections
          const buttons = ratingScale.querySelectorAll('.rating-btn');
          buttons.forEach(btn => {
              btn.classList.remove('ring-4', 'ring-blue-300');
          });
          
          // Highlight selected button
          buttons[value-1].classList.add('ring-4', 'ring-blue-300');
          
          // Save response
          userResponses[currentQuestion] = value;
      }

      // Select a multi-choice option
      function selectOption(index) {
          // Clear previous selections
          const options = multiChoice.querySelectorAll('button');
          options.forEach(opt => {
              opt.classList.remove('bg-blue-100', 'border-blue-500');
          });
          
          // Highlight selected option
          options[index].classList.add('bg-blue-100', 'border-blue-500');
          
          // Save response
          userResponses[currentQuestion] = index;
      }

      // Go to previous question
      function goToPrevQuestion() {
          if (currentQuestion > 1) {
              currentQuestion--;
              loadQuestion(currentQuestion);
          }
      }

      // Go to next question or submit
      function goToNextQuestion() {
          const currentQuestionObj = questions.find(q => q.id === currentQuestion);
          
          // Save text input if applicable
          if (currentQuestionObj.type === 'text') {
              userResponses[currentQuestion] = document.getElementById('user-text-input').value;
          }
          
          // Validate response exists (except for text questions which can be optional)
          if (currentQuestionObj.type !== 'text' && userResponses[currentQuestion] === undefined) {
              alert('Please provide an answer before continuing.');
              return;
          }
          
          if (currentQuestion < questions.length) {
              currentQuestion++;
              loadQuestion(currentQuestion);
          } else {
              submitAssessment();
          }
      }

      // Submit the assessment and show results
      function submitAssessment() {
          // Calculate scores
          calculateScores();
          
          // Generate visual representations
          generateScoreGauge();
          generateRadarChart();
          
          // Display factor insights
          displayFactorInsights();
          
          // Generate recommendations
          generateRecommendations();
          
          // Show results screen
          assessmentForm.classList.add('hidden');
          resultsScreen.classList.remove('hidden');
          
          // Scroll to top
          window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // Calculate mental health scores based on responses
      function calculateScores() {
          // Reset factor scores
          factorScores = {};
          
          // Process each question
          questions.forEach(question => {
              const response = userResponses[question.id];
              const factor = question.factor;
              
              // Skip text responses
              if (question.type === 'text') return;
              
              // Process ratings (1-5 scale)
              if (question.type === 'rating') {
                  factorScores[factor] = response;
              }
              
              // Process choices (convert to 1-5 scale)
              if (question.type === 'choice') {
                  // For depression and anhedonia questions (PHQ-2), reverse score
                  if (factor === 'depression' || factor === 'anhedonia') {
                      // Convert from 0-3 to 5-2 scale (reverse)
                      factorScores[factor] = 5 - response;
                  } 
                  // For panic question
                  else if (factor === 'panic') {
                      // Convert from 0-3 to 5-2 scale (reverse)
                      factorScores[factor] = 5 - response;
                  }
                  // Other choice questions
                  else {
                      // Convert from 0-3 to 2-5 scale
                      factorScores[factor] = response + 2;
                  }
              }
          });
          
          // Calculate overall score (average of all factors)
          let sum = 0;
          let count = 0;
          
          for (const factor in factorScores) {
              sum += factorScores[factor];
              count++;
          }
          
          factorScores.overall = Math.round((sum / count) * 10) / 10;
      }

      // Generate the score gauge visualization
      function generateScoreGauge() {
          const score = factorScores.overall;
          document.getElementById('final-score').textContent = score;
          
          // Set interpretation text based on score
          const interpretation = document.getElementById('score-interpretation');
          if (score < 2) {
              interpretation.textContent = "Your current mental health indicators suggest serious concerns. Please consider seeking professional help.";
              interpretation.className = "text-center text-red-700 font-medium";
          } else if (score < 3) {
              interpretation.textContent = "Your mental well-being shows signs of strain. Consider implementing the recommendations below.";
              interpretation.className = "text-center text-orange-700 font-medium";
          } else if (score < 4) {
              interpretation.textContent = "Your mental health is in the moderate range. There are opportunities to enhance your well-being.";
              interpretation.className = "text-center text-yellow-700 font-medium";
          } else {
              interpretation.textContent = "Your mental well-being indicators are positive. Continue your healthy practices.";
              interpretation.className = "text-center text-green-700 font-medium";
          }
          
          // Create gauge chart
          const ctx = document.getElementById('scoreChart').getContext('2d');
          new Chart(ctx, {
              type: 'doughnut',
              data: {
                  datasets: [{
                      data: [score, 5 - score],
                      backgroundColor: [
                          score < 2 ? '#EF4444' : score < 3 ? '#F59E0B' : score < 4 ? '#10B981' : '#047857',
                          '#E5E7EB'
                      ],
                      borderWidth: 0
                  }]
              },
              options: {
                  cutout: '70%',
                  responsive: true,
                  maintainAspectRatio: true,
                  plugins: {
                      tooltip: {
                          enabled: false
                      },
                      legend: {
                          display: false
                      }
                  }
              }
          });
      }

      // Generate the radar chart for mental health dimensions
      function generateRadarChart() {
          // Prepare data for radar chart
          const labels = [];
          const data = [];
          
          for (const factor in factorScores) {
              if (factor !== 'overall' && factor !== 'concerns') {
                  labels.push(factor.charAt(0).toUpperCase() + factor.slice(1));
                  data.push(factorScores[factor]);
              }
          }
          
          // Create radar chart
          const ctx = document.getElementById('radarChart').getContext('2d');
          new Chart(ctx, {
              type: 'radar',
              data: {
                  labels: labels,
                  datasets: [{
                      label: 'Your Score',
                      data: data,
                      backgroundColor: 'rgba(59, 130, 246, 0.2)',
                      borderColor: 'rgba(59, 130, 246, 1)',
                      pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                      pointBorderColor: '#fff',
                      pointHoverBackgroundColor: '#fff',
                      pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
                  }]
              },
              options: {
                  responsive: true,
                  maintainAspectRatio: true,
                  scales: {
                      r: {
                          angleLines: {
                              display: true
                          },
                          suggestedMin: 0,
                          suggestedMax: 5
                      }
                  }
              }
          });
      }

      // Display factor insights
      function displayFactorInsights() {
          const factorsContainer = document.getElementById('factors-container');
          factorsContainer.innerHTML = '';
          
          // Sort factors by score (ascending)
          const sortedFactors = Object.keys(factorScores)
              .filter(factor => factor !== 'overall' && factor !== 'concerns')
              .sort((a, b) => factorScores[a] - factorScores[b]);
          
          // Show top 3 concerns
          for (let i = 0; i < Math.min(3, sortedFactors.length); i++) {
              const factor = sortedFactors[i];
              const score = factorScores[factor];
              
              const factorElement = document.createElement('div');
              factorElement.className = 'mb-4 pb-4 border-b border-gray-200 last:border-0';
              
              // Create factor header with score
              const header = document.createElement('div');
              header.className = 'flex justify-between items-center mb-2';
              
              const factorName = document.createElement('h4');
              factorName.className = 'font-medium text-gray-800';
              factorName.textContent = factor.charAt(0).toUpperCase() + factor.slice(1);
              
              const scoreElement = document.createElement('span');
              scoreElement.className = `px-2 py-1 text-sm rounded-full ${
                  score < 2 ? 'bg-red-100 text-red-800' : 
                  score < 3 ? 'bg-orange-100 text-orange-800' : 
                  score < 4 ? 'bg-yellow-100 text-yellow-800' : 
                  'bg-green-100 text-green-800'
              }`;
              scoreElement.textContent = score;
              
              header.appendChild(factorName);
              header.appendChild(scoreElement);
              factorElement.appendChild(header);
              
              // Add description
              const description = document.createElement('p');
              description.className = 'text-sm text-gray-600';
              description.textContent = factorDescriptions[factor] || '';
              factorElement.appendChild(description);
              
              factorsContainer.appendChild(factorElement);
          }
      }

      // Generate personalized recommendations
      function generateRecommendations() {
          const recommendationsContainer = document.getElementById('recommendations-container');
          recommendationsContainer.innerHTML = '';
          
          // Get personalized recommendations for each factor
          const personalizedRecs = [];
          
          for (const factor in factorScores) {
              if (factor !== 'overall' && factor !== 'concerns' && recommendations[factor]) {
                  const score = factorScores[factor];
                  const factorRecs = recommendations[factor];
                  
                  // Find appropriate recommendation based on score
                  for (let i = 0; i < factorRecs.length; i++) {
                      if (score <= factorRecs[i].threshold) {
                          personalizedRecs.push({
                              factor: factor,
                              text: factorRecs[i].text,
                              priority: factorRecs[i].threshold - score // Higher priority for lower scores
                          });
                          break;
                      }
                  }
              }
          }
          
          // Sort by priority
          personalizedRecs.sort((a, b) => b.priority - a.priority);
          
          // Add top personalized recommendations
          const topRecs = personalizedRecs.slice(0, 3);
          topRecs.forEach(rec => {
              addRecommendation(rec.text, rec.factor);
          });
          
          // Add 2 general recommendations
          const shuffledGeneralRecs = shuffleArray(recommendations.general);
          shuffledGeneralRecs.slice(0, 2).forEach(rec => {
              addRecommendation(rec.text, 'general');
          });
      }

      // Add a recommendation to the container
      function addRecommendation(text, factor) {
          const recommendationsContainer = document.getElementById('recommendations-container');
          
          const recElement = document.createElement('div');
          recElement.className = 'flex items-start p-3 bg-blue-50 rounded-lg';
          
          // Icon based on factor
          const iconElement = document.createElement('div');
          iconElement.className = 'mr-3 text-blue-500';
          iconElement.innerHTML = '‚úì';
          
          const contentElement = document.createElement('div');
          
          const recText = document.createElement('p');
          recText.className = 'text-gray-800';
          recText.textContent = text;
          
          const factorTag = document.createElement('span');
          factorTag.className = 'inline-block mt-1 text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full';
          factorTag.textContent = factor;
          contentElement.appendChild(recText);
          contentElement.appendChild(factorTag);
          
          recElement.appendChild(iconElement);
          recElement.appendChild(contentElement);
          
          recommendationsContainer.appendChild(recElement);
      }

      // Helper function to shuffle an array
      function shuffleArray(array) {
          const newArray = [...array];
          for (let i = newArray.length - 1; i > 0; i--) {
              const j = Math.floor(Math.random() * (i + 1));
              [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
          }
          return newArray;
      }

      // Restart the assessment
      function restartAssessment() {
          // Reset variables
          currentQuestion = 1;
          userResponses = {};
          factorScores = {};
          
          // Show welcome screen
          resultsScreen.classList.add('hidden');
          welcomeScreen.classList.remove('hidden');
          
          // Scroll to top
          window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // Download assessment report as PDF
      function downloadReport() {
          // In a real implementation, this would generate a PDF
          // For this demo, we'll create a text representation
          
          let reportText = "MENTAL HEALTH ASSESSMENT REPORT\n\n";
          reportText += `Date: ${new Date().toLocaleDateString()}\n\n`;
          reportText += `Overall Score: ${factorScores.overall} out of 5\n\n`;
          
          reportText += "DIMENSION SCORES:\n";
          for (const factor in factorScores) {
              if (factor !== 'overall' && factor !== 'concerns') {
                  reportText += `- ${factor.charAt(0).toUpperCase() + factor.slice(1)}: ${factorScores[factor]}\n`;
              }
          }
          
          reportText += "\nKEY INSIGHTS:\n";
          const sortedFactors = Object.keys(factorScores)
              .filter(factor => factor !== 'overall' && factor !== 'concerns')
              .sort((a, b) => factorScores[a] - factorScores[b]);
          
          for (let i = 0; i < Math.min(3, sortedFactors.length); i++) {
              const factor = sortedFactors[i];
              reportText += `- ${factor.charAt(0).toUpperCase() + factor.slice(1)}: ${factorDescriptions[factor]}\n`;
          }
          
          reportText += "\nRECOMMENDATIONS:\n";
          document.querySelectorAll('#recommendations-container p').forEach(rec => {
              reportText += `- ${rec.textContent}\n`;
          });
          
          reportText += "\nDISCLAIMER: This assessment is for educational purposes only and does not replace professional mental health advice.";
          
          // Create blob and download
          const blob = new Blob([reportText], { type: 'text/plain' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'mental-health-assessment.txt';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
      }

      // Add machine learning simulation for more advanced analysis
      class MentalHealthML {
          constructor(responses) {
              this.responses = responses;
              this.processedData = null;
              this.results = null;
          }
          
          // Preprocess data
          preprocessData() {
              this.processedData = {};
              
              // Convert categorical responses to numerical
              for (const questionId in this.responses) {
                  const response = this.responses[questionId];
                  const question = questions.find(q => q.id === parseInt(questionId));
                  
                  if (question.type === 'text') {
                      // Text sentiment analysis simulation
                      this.processedData[`${question.factor}_sentiment`] = this.simulateSentimentAnalysis(response);
                  } else {
                      // Rating or choice responses
                      this.processedData[question.factor] = response;
                  }
              }
              
              return this.processedData;
          }
          
          // Simulate sentiment analysis
          simulateSentimentAnalysis(text) {
              if (!text || text.trim() === '') return 0;
              
              // List of positive and negative keywords for simple sentiment
              const positiveWords = ['good', 'great', 'happy', 'positive', 'excellent', 'better', 'improving', 'hopeful', 'calm', 'relaxed'];
              const negativeWords = ['bad', 'sad', 'depressed', 'anxious', 'worried', 'stress', 'terrible', 'upset', 'fear', 'panic', 'tired', 'exhausted'];
              
              text = text.toLowerCase();
              let sentiment = 0;
              
              // Count positive and negative words
              positiveWords.forEach(word => {
                  if (text.includes(word)) sentiment += 1;
              });
              
              negativeWords.forEach(word => {
                  if (text.includes(word)) sentiment -= 1;
              });
              
              // Normalize sentiment to -1 to 1 range
              sentiment = Math.max(-1, Math.min(1, sentiment * 0.5));
              
              // Convert to 1-5 scale
              return Math.round((sentiment + 1) * 2 + 1);
          }
          
          // Analyze data and predict mental health indicators
          analyze() {
              if (!this.processedData) {
                  this.preprocessData();
              }
              
              this.results = {
                  anxiety_risk: this.predictAnxietyRisk(),
                  depression_risk: this.predictDepressionRisk(),
                  panic_risk: this.predictPanicRisk(),
                  sleep_disorder_risk: this.predictSleepDisorderRisk(),
                  overall_wellbeing: this.calculateOverallWellbeing()
              };
              
              return this.results;
          }
          
          // Simulate prediction of anxiety risk (1-5 scale, 5 being lowest risk)
          predictAnxietyRisk() {
              // Factors that affect anxiety: anxiety rating, sleep, energy, panic
              let score = 0;
              let count = 0;
              
              if (this.processedData.anxiety !== undefined) {
                  score += this.processedData.anxiety * 2; // Higher weight
                  count += 2;
              }
              
              if (this.processedData.sleep !== undefined) {
                  score += this.processedData.sleep;
                  count += 1;
              }
              
              if (this.processedData.energy !== undefined) {
                  score += this.processedData.energy;
                  count += 1;
              }
              
              if (this.processedData.panic !== undefined) {
                  score += this.processedData.panic * 1.5; // Higher weight
                  count += 1.5;
              }
              
              // Concerns sentiment
              if (this.processedData.concerns_sentiment !== undefined) {
                  score += this.processedData.concerns_sentiment;
                  count += 1;
              }
              
              return count > 0 ? Math.round((score / count) * 10) / 10 : 3;
          }
          
          // Simulate prediction of depression risk (1-5 scale, 5 being lowest risk)
          predictDepressionRisk() {
              // Factors that affect depression: mood, anhedonia, depression, energy, social
              let score = 0;
              let count = 0;
              
              if (this.processedData.mood !== undefined) {
                  score += this.processedData.mood * 1.5; // Higher weight
                  count += 1.5;
              }
              
              if (this.processedData.anhedonia !== undefined) {
                  score += this.processedData.anhedonia * 2; // Higher weight
                  count += 2;
              }
              
              if (this.processedData.depression !== undefined) {
                  score += this.processedData.depression * 2; // Higher weight
                  count += 2;
              }
              
              if (this.processedData.energy !== undefined) {
                  score += this.processedData.energy;
                  count += 1;
              }
              
              if (this.processedData.social !== undefined) {
                  score += this.processedData.social;
                  count += 1;
              }
              
              // Concerns sentiment
              if (this.processedData.concerns_sentiment !== undefined) {
                  score += this.processedData.concerns_sentiment;
                  count += 1;
              }
              
              return count > 0 ? Math.round((score / count) * 10) / 10 : 3;
          }
          
          // Simulate prediction of panic attack risk (1-5 scale, 5 being lowest risk)
          predictPanicRisk() {
              // Factors: panic, anxiety, sleep
              let score = 0;
              let count = 0;
              
              if (this.processedData.panic !== undefined) {
                  score += this.processedData.panic * 3; // Higher weight
                  count += 3;
              }
              
              if (this.processedData.anxiety !== undefined) {
                  score += this.processedData.anxiety * 1.5; // Higher weight
                  count += 1.5;
              }
              
              if (this.processedData.sleep !== undefined) {
                  score += this.processedData.sleep;
                  count += 1;
              }
              
              return count > 0 ? Math.round((score / count) * 10) / 10 : 3;
          }
          
          // Simulate prediction of sleep disorder risk (1-5 scale, 5 being lowest risk)
          predictSleepDisorderRisk() {
              // Factors: sleep, energy, anxiety, depression
              let score = 0;
              let count = 0;
              
              if (this.processedData.sleep !== undefined) {
                  score += this.processedData.sleep * 3; // Higher weight
                  count += 3;
              }
              
              if (this.processedData.energy !== undefined) {
                  score += this.processedData.energy * 1.5; // Higher weight
                  count += 1.5;
              }
              
              if (this.processedData.anxiety !== undefined) {
                  score += this.processedData.anxiety;
                  count += 1;
              }
              
              if (this.processedData.depression !== undefined) {
                  score += this.processedData.depression;
                  count += 1;
              }
              
              return count > 0 ? Math.round((score / count) * 10) / 10 : 3;
          }
          
          // Calculate overall wellbeing
          calculateOverallWellbeing() {
              const anxiety = this.predictAnxietyRisk();
              const depression = this.predictDepressionRisk();
              const panic = this.predictPanicRisk();
              const sleep = this.predictSleepDisorderRisk();
              
              // Weighted average
              return Math.round(((anxiety * 1.5) + (depression * 1.5) + panic + sleep) / 5 * 10) / 10;
          }
          
          // Get personalized detailed insights
          getInsights() {
              if (!this.results) {
                  this.analyze();
              }
              
              const insights = [];
              
              // Anxiety insights
              if (this.results.anxiety_risk < 3) {
                  insights.push({
                      category: 'anxiety',
                      severity: 'high',
                      title: 'Elevated Anxiety Indicators',
                      description: 'Your responses indicate elevated anxiety levels. Consider practicing mindfulness techniques and discussing these feelings with a mental health professional.',
                  });
              }
              
              // Depression insights
              if (this.results.depression_risk < 3) {
                  insights.push({
                      category: 'depression',
                      severity: 'high',
                      title: 'Depression Risk Indicators',
                      description: 'Your responses show some risk factors for depression. Regular physical activity and social connection can help improve mood.',
                  });
              }
              
              // Panic attack insights
              if (this.results.panic_risk < 3) {
                  insights.push({
                      category: 'panic',
                      severity: 'high',
                      title: 'Panic Symptoms Detected',
                      description: 'Your responses indicate you may be experiencing panic symptoms. Breathing exercises and professional support can help manage these episodes.',
                  });
              }
              
              // Sleep insights
              if (this.results.sleep_disorder_risk < 3) {
                  insights.push({
                      category: 'sleep',
                      severity: 'high',
                      title: 'Sleep Quality Concerns',
                      description: 'Your responses suggest your sleep quality could be improved. Consider establishing a consistent sleep schedule and bedtime routine.',
                  });
              }
              
              // Add positive insights if doing well
              if (this.results.overall_wellbeing >= 4) {
                  insights.push({
                      category: 'wellbeing',
                      severity: 'low',
                      title: 'Positive Mental Wellbeing',
                      description: 'Your overall mental wellbeing indicators are positive. Continue with your healthy habits and self-care practices.',
                  });
              }
              
              return insights;
          }
      }

      // Enhanced submit assessment function that uses ML analysis
      function submitAssessment() {
          // Calculate basic scores
          calculateScores();
          
          // Perform ML analysis
          const mlAnalyzer = new MentalHealthML(userResponses);
          const mlResults = mlAnalyzer.analyze();
          const insights = mlAnalyzer.getInsights();
          
          // Integrate ML results with factor scores
          factorScores.anxiety_risk = mlResults.anxiety_risk;
          factorScores.depression_risk = mlResults.depression_risk;
          factorScores.panic_risk = mlResults.panic_risk;
          factorScores.sleep_risk = mlResults.sleep_disorder_risk;
          factorScores.overall = mlResults.overall_wellbeing;
          
          // Generate visual representations
          generateScoreGauge();
          generateRadarChart();
          
          // Display factor insights including ML insights
          displayFactorInsights();
          displayMLInsights(insights);
          
          // Generate recommendations
          generateRecommendations();
          
          // Show results screen
          assessmentForm.classList.add('hidden');
          resultsScreen.classList.remove('hidden');
          
          // Scroll to top
          window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // Display ML-generated insights
      function displayMLInsights(insights) {
          // For demo purposes, we'll add one ML insight to the factors container
          if (insights.length > 0) {
              const factorsContainer = document.getElementById('factors-container');
              
              const insightDiv = document.createElement('div');
              insightDiv.className = 'mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200';
              
              const insightTitle = document.createElement('h4');
              insightTitle.className = 'font-medium text-blue-800 mb-1';
              insightTitle.textContent = 'AI Assessment Insight';
              insightDiv.appendChild(insightTitle);
              
              const insightDesc = document.createElement('p');
              insightDesc.className = 'text-sm text-gray-700';
              insightDesc.textContent = insights[0].description;
              insightDiv.appendChild(insightDesc);
              
              factorsContainer.appendChild(insightDiv);
          }
      }
    // JavaScript for interactive elements
    document.addEventListener('DOMContentLoaded', function() {
      // Example function to toggle mood selection
      const moodBubbles = document.querySelectorAll('.bubble');
      moodBubbles.forEach(bubble => {
        bubble.addEventListener('click', function() {
          this.classList.toggle('opacity-50');
        });
      });
      
      // Example function for anxiety slider
      const slider = document.querySelector('.anxiety-slider');
      if (slider) {
        slider.addEventListener('click', function(e) {
          const sliderWidth = this.offsetWidth;
          const clickPosition = e.offsetX;
          const percentage = (clickPosition / sliderWidth) * 100;
          
          const anxietyLevel = this.querySelector('.anxiety-level');
          anxietyLevel.style.width = percentage + '%';
        });
      }
    });
    
  </script>
</body>
</html>